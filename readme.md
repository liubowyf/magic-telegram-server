# Magic Telegram Server

ä¸€ä¸ªåŸºäºSpring Bootå’ŒTDLight-Javaçš„Telegramå•è´¦æˆ·æ¶ˆæ¯å®æ—¶ç›‘å¬æœåŠ¡ã€‚


## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ åŸºäºSpring Boot 3.2.0æ„å»º
- ğŸ“± ä½¿ç”¨TDLight-Java 3.4.0+td.1.8.26ç‰ˆæœ¬
- ğŸ‘¤ å•è´¦æˆ·ç®¡ç†å’Œè®¤è¯
- ğŸ”„ å®æ—¶ç›‘å¬Telegramç¾¤ç»„æ¶ˆæ¯
- ğŸŒ æ”¯æŒSOCKS5ä»£ç†è®¿é—®
- ğŸ“ æ¶ˆæ¯å®æ—¶å†™å…¥åˆ°MongoDBè¿›è¡ŒæŒä¹…åŒ–
- ğŸ” è‡ªåŠ¨ä¼šè¯ç®¡ç†å’ŒæŒä¹…åŒ–
- ğŸ’¾ **GridFSæ™ºèƒ½å­˜å‚¨** - åŸºäºMongoDB GridFSçš„é«˜æ•ˆSessionå­˜å‚¨æ–¹æ¡ˆ
- ğŸ—œï¸ **æ•°æ®å‹ç¼©ä¼˜åŒ–** - è‡ªåŠ¨GZIPå‹ç¼©ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
- ğŸ”’ **æ•°æ®å®Œæ•´æ€§æ ¡éªŒ** - SHA256å“ˆå¸Œæ ¡éªŒç¡®ä¿æ•°æ®å®‰å…¨
- âš¡ **æ™ºèƒ½å­˜å‚¨ç­–ç•¥** - æ ¹æ®æ•°æ®å¤§å°è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å­˜å‚¨æ–¹å¼
- ğŸ³ **Dockeræ”¯æŒ** - æä¾›å®Œæ•´çš„Dockeréƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒå†…ç½®å’Œå¤–éƒ¨MongoDB
- ğŸ¯ å®Œæ•´çš„åŠŸèƒ½é—­ç¯ï¼šè´¦æˆ·åˆ›å»º â†’ Sessionæµç¨‹ â†’ æ¶ˆæ¯ç›‘å¬

## ç³»ç»Ÿè¦æ±‚

### ğŸ³ Dockeréƒ¨ç½²
- Docker 20.0+
- Docker Compose 2.0+ (å¯é€‰)
- macOS/Linux/Windows
- ç½‘ç»œä»£ç†ï¼ˆç”¨äºè®¿é—®TelegramæœåŠ¡å™¨ï¼‰

### ğŸ”§ æœ¬åœ°å¼€å‘éƒ¨ç½²
- Java 17+
- Maven 3.6+
- MongoDB 4.0+ (ç”¨äºGridFSå­˜å‚¨)
- macOS/Linux/Windows
- ç½‘ç»œä»£ç†ï¼ˆç”¨äºè®¿é—®TelegramæœåŠ¡å™¨ï¼‰

## é…ç½®è¯´æ˜


### ä»£ç†é…ç½®
- ç±»å‹: SOCKS5
- åœ°å€: 127.0.0.1
- ç«¯å£: 7890

### Sessionå­˜å‚¨é…ç½®
- å­˜å‚¨ç­–ç•¥: GridFS (MongoDB)
- å‹ç¼©ç®—æ³•: GZIP
- åˆ†ç‰‡é˜ˆå€¼: 8MB
- å®Œæ•´æ€§æ ¡éªŒ: SHA256

## å¿«é€Ÿå¼€å§‹

æœ¬é¡¹ç›®æ”¯æŒä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼š

### ğŸ³ Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

ä½¿ç”¨Dockerå¯ä»¥å¿«é€Ÿéƒ¨ç½²ï¼Œæ— éœ€é…ç½®Javaå’ŒMavenç¯å¢ƒã€‚è¯¦ç»†çš„Dockeréƒ¨ç½²æŒ‡å—è¯·å‚è€ƒï¼š

ğŸ“– **[Dockeréƒ¨ç½²æŒ‡å—](docs/DOCKER_GUIDE.md)**

å¿«é€Ÿå¯åŠ¨å‘½ä»¤ï¼š
```bash
# ä½¿ç”¨å†…ç½®MongoDBï¼ˆé€‚åˆå¼€å‘å’Œæµ‹è¯•ï¼‰
docker run -d \
  --name magic-telegram \
  -p 8080:8080 \
  -e PROXY_HOST=host.docker.internal \
  -e PROXY_PORT=7890 \
  your-dockerhub-username/magic-telegram-server:latest

# å¯åŠ¨åè®¿é—® http://localhost:8080/api/admin/index.html
# é€šè¿‡Webç®¡ç†ç•Œé¢é…ç½®Telegram APIå’Œå…¶ä»–è®¾ç½®
```

### ğŸ”§ æœ¬åœ°å¼€å‘éƒ¨ç½²

#### 1. ç¼–è¯‘é¡¹ç›®
```bash
mvn clean compile -s settings.xml
```

#### 2. è¿è¡Œåº”ç”¨
```bash
mvn spring-boot:run -s settings.xml
```

#### 3. ä½¿ç”¨Webç®¡ç†ç³»ç»Ÿ
é€šè¿‡æµè§ˆå™¨è®¿é—® `http://localhost:8080/api/admin/index.html` ä½¿ç”¨å¯è§†åŒ–ç•Œé¢å®Œæˆè´¦æˆ·åˆ›å»ºã€è®¤è¯å’Œæ¶ˆæ¯ç›‘å¬ç­‰æ‰€æœ‰æ“ä½œã€‚

## Webç®¡ç†ç³»ç»Ÿ

æœ¬é¡¹ç›®æä¾›äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„Webç®¡ç†ç³»ç»Ÿï¼Œå¯é€šè¿‡æµè§ˆå™¨è®¿é—® `http://localhost:8080/api/admin/index.html` è¿›è¡Œå¯è§†åŒ–ç®¡ç†ã€‚

### ç®¡ç†ç³»ç»ŸåŠŸèƒ½

#### 1. ä»ªè¡¨ç›˜
ç®¡ç†ç³»ç»Ÿä¸»é¡µæä¾›äº†ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆå’Œå¿«é€Ÿæ“ä½œå…¥å£ã€‚

![ç®¡ç†ç³»ç»Ÿä¸»é¡µ](docs/images/admin-main-page-2025-08-21T07-53-25-800Z.png)

#### 2. è´¦å·ç®¡ç†
æä¾›å®Œæ•´çš„Telegramè´¦å·ç®¡ç†åŠŸèƒ½ï¼š
- è´¦å·åˆ›å»ºå’Œåˆ é™¤
- APIé…ç½®ç®¡ç†
- è®¤è¯çŠ¶æ€æŸ¥çœ‹
- Sessionç®¡ç†

![è´¦å·ç®¡ç†é¡µé¢](docs/images/admin-accounts-page-2025-08-21T07-54-35-595Z.png)

**æ·»åŠ è´¦å·åŠŸèƒ½**ï¼š
æ”¯æŒé€šè¿‡å¼¹çª—å½¢å¼æ·»åŠ æ–°çš„Telegramè´¦å·ï¼ŒåŒ…æ‹¬APIé…ç½®å’Œè®¤è¯æµç¨‹ã€‚

![æ·»åŠ è´¦å·å¼¹çª—](docs/images/admin-add-account-modal-2025-08-21T07-56-40-730Z.png)

#### 3. æ¶ˆæ¯ç®¡ç†
å®æ—¶æŸ¥çœ‹å’Œç®¡ç†Telegramæ¶ˆæ¯ï¼š
- æ¶ˆæ¯å†å²è®°å½•
- æ¶ˆæ¯æœç´¢å’Œè¿‡æ»¤
- æ¶ˆæ¯çŠ¶æ€ç›‘æ§

![æ¶ˆæ¯ç®¡ç†é¡µé¢](docs/images/admin-messages-page-2025-08-21T07-55-04-237Z.png)

#### 4. ç³»ç»Ÿè®¾ç½®
ç³»ç»Ÿé…ç½®å’Œå‚æ•°ç®¡ç†ï¼š
- ä»£ç†è®¾ç½®
- å­˜å‚¨é…ç½®
- æ—¥å¿—çº§åˆ«è®¾ç½®
- ç³»ç»Ÿç›‘æ§

![ç³»ç»Ÿè®¾ç½®é¡µé¢](docs/images/admin-settings-page-2025-08-21T07-55-31-893Z.png)

### ç®¡ç†ç³»ç»Ÿç‰¹æ€§

- ğŸ¨ **ç°ä»£åŒ–UIè®¾è®¡** - åŸºäºBootstrapçš„å“åº”å¼ç•Œé¢
- ğŸ” **å®‰å…¨è®¤è¯** - å†…ç½®è®¤è¯æœºåˆ¶ï¼Œä¿æŠ¤ç®¡ç†åŠŸèƒ½
- ğŸ“± **ç§»åŠ¨ç«¯é€‚é…** - æ”¯æŒæ‰‹æœºå’Œå¹³æ¿è®¾å¤‡è®¿é—®
- âš¡ **å®æ—¶æ›´æ–°** - çŠ¶æ€ä¿¡æ¯å®æ—¶åˆ·æ–°
- ğŸ› ï¸ **æ“ä½œä¾¿æ·** - ä¸€é”®å¼æ“ä½œï¼Œç®€åŒ–ç®¡ç†æµç¨‹

### è®¿é—®æ–¹å¼

å¯åŠ¨åº”ç”¨åï¼Œé€šè¿‡ä»¥ä¸‹URLè®¿é—®ç®¡ç†ç³»ç»Ÿï¼š
```
http://localhost:8080/api/admin/index.html
```


## é¡¹ç›®ç»“æ„

```
magic-telegram-server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/telegram/server/
â”‚   â”‚   â”‚   â”œâ”€â”€ MagicTelegramServerApplication.java  # ä¸»å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ config/                             # é…ç½®ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AsyncConfig.java                # å¼‚æ­¥é…ç½®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GridFSConfig.java               # GridFSé…ç½®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageStorageConfig.java       # æ¶ˆæ¯å­˜å‚¨é…ç½®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TelegramConfig.java             # Telegramé…ç½®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TelegramConfigManager.java      # Telegramé…ç½®ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WebMvcConfig.java               # Web MVCé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/                         # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TelegramController.java         # Telegram RESTæ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WebAdminController.java         # Webç®¡ç†æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageStorageTestController.java # æ¶ˆæ¯å­˜å‚¨æµ‹è¯•æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ admin/                          # ç®¡ç†åå°æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/                                # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AccountDTO.java                 # è´¦æˆ·DTO
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageDTO.java                 # æ¶ˆæ¯DTO
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PageRequestDTO.java             # åˆ†é¡µè¯·æ±‚DTO
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PageResponseDTO.java            # åˆ†é¡µå“åº”DTO
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SystemStatsDTO.java             # ç³»ç»Ÿç»Ÿè®¡DTO
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/                             # å®ä½“ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TelegramMessage.java            # Telegramæ¶ˆæ¯å®ä½“
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TelegramSession.java            # Telegramä¼šè¯å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ lifecycle/                          # ç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ApplicationLifecycleManager.java # åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ monitor/                            # ç›‘æ§ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MessageStorageMonitor.java      # æ¶ˆæ¯å­˜å‚¨ç›‘æ§å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/                         # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TelegramMessageRepository.java  # æ¶ˆæ¯ä»“åº“
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TelegramSessionRepository.java  # ä¼šè¯ä»“åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ service/                            # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ITelegramService.java           # TelegramæœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ITelegramSessionService.java    # ä¼šè¯æœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ITelegramMessageService.java    # æ¶ˆæ¯æœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ gridfs/                         # GridFSæœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GridFSService.java          # GridFSæ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GridFSStorageManager.java   # GridFSå­˜å‚¨ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GridFSCompressionService.java # GridFSå‹ç¼©æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GridFSIntegrityService.java # GridFSå®Œæ•´æ€§æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ GridFSIntegrityChecker.java # GridFSå®Œæ•´æ€§æ£€æŸ¥å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ impl/                           # æœåŠ¡å®ç°
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ TelegramServiceImpl.java   # TelegramæœåŠ¡å®ç°
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ TelegramSessionServiceImpl.java # ä¼šè¯æœåŠ¡å®ç°
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ TelegramMessageServiceImpl.java # æ¶ˆæ¯æœåŠ¡å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ storage/                            # å­˜å‚¨ç›¸å…³
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ exception/                      # å­˜å‚¨å¼‚å¸¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ monitor/                        # å­˜å‚¨ç›‘æ§
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy/                       # å­˜å‚¨ç­–ç•¥
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ util/                           # å­˜å‚¨å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ util/                               # å·¥å…·ç±»
â”‚   â”‚   â”‚       â”œâ”€â”€ ImageProcessingUtil.java       # å›¾ç‰‡å¤„ç†å·¥å…·
â”‚   â”‚   â”‚       â”œâ”€â”€ PathValidator.java             # è·¯å¾„éªŒè¯å·¥å…·
â”‚   â”‚   â”‚       â”œâ”€â”€ RetryHandler.java              # é‡è¯•å¤„ç†å™¨
â”‚   â”‚   â”‚       â””â”€â”€ TimeZoneUtil.java              # æ—¶åŒºå·¥å…·
â”‚   â”‚   â””â”€â”€ resources/                              # èµ„æºæ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ application.yml                     # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”‚       â””â”€â”€ static/                             # é™æ€èµ„æº
â”‚   â”‚           â””â”€â”€ admin/                          # ç®¡ç†åå°å‰ç«¯
â”‚   â”‚               â”œâ”€â”€ index.html                 # ç®¡ç†åå°ä¸»é¡µ
â”‚   â”‚               â”œâ”€â”€ css/                       # æ ·å¼æ–‡ä»¶
â”‚   â”‚               â”‚   â”œâ”€â”€ admin.css              # ç®¡ç†åå°æ ·å¼
â”‚   â”‚               â”‚   â””â”€â”€ auth-modal.css         # è®¤è¯å¼¹çª—æ ·å¼
â”‚   â”‚               â””â”€â”€ js/                        # JavaScriptæ–‡ä»¶
â”‚   â”‚                   â”œâ”€â”€ admin.js               # ç®¡ç†åå°ä¸»è„šæœ¬
â”‚   â”‚                   â”œâ”€â”€ api.js                 # APIè°ƒç”¨è„šæœ¬
â”‚   â”‚                   â”œâ”€â”€ components.js          # ç»„ä»¶è„šæœ¬
â”‚   â”‚                   â”œâ”€â”€ utils.js               # å·¥å…·è„šæœ¬
â”‚   â”‚                   â””â”€â”€ components/            # ç»„ä»¶ç›®å½•
â”‚   â”‚                       â””â”€â”€ auth-modal.js      # è®¤è¯å¼¹çª—ç»„ä»¶
â”‚   â””â”€â”€ test/                                       # æµ‹è¯•ä»£ç 
â”‚       â”œâ”€â”€ java/                                   # Javaæµ‹è¯•
â”‚       â””â”€â”€ resources/                              # æµ‹è¯•èµ„æº
â”‚           â””â”€â”€ application-test.yml                # æµ‹è¯•é…ç½®
â”œâ”€â”€ docs/                                           # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ pom.xml                                         # Mavené…ç½®
â”œâ”€â”€ LICENSE                                         # è®¸å¯è¯æ–‡ä»¶
â””â”€â”€ readme.md                                       # é¡¹ç›®è¯´æ˜
```

## åŠŸèƒ½é—­ç¯è¯´æ˜

æœ¬é¡¹ç›®å®ç°äº†å®Œæ•´çš„å•è´¦æˆ·Telegramæ¶ˆæ¯ç›‘å¬åŠŸèƒ½é—­ç¯ï¼š

### 1. å•è´¦æˆ·åˆ›å»º
- é€šè¿‡ `/telegram/account/create` æ¥å£åˆå§‹åŒ–è´¦æˆ·
- é‡ç½®æ‰€æœ‰è¿è¡Œæ—¶é…ç½®ï¼Œå‡†å¤‡æ–°çš„è®¤è¯æµç¨‹
- æ”¯æŒé‡å¤åˆ›å»ºï¼Œè‡ªåŠ¨æ¸…ç†æ—§çš„å®¢æˆ·ç«¯è¿æ¥

### 2. Sessionæµç¨‹
- **APIé…ç½®**: è®¾ç½®Telegram API IDå’ŒHash
- **æ‰‹æœºå·è®¤è¯**: æäº¤æ‰‹æœºå·ç ï¼Œæ¥æ”¶éªŒè¯ç 
- **éªŒè¯ç éªŒè¯**: æäº¤çŸ­ä¿¡éªŒè¯ç è¿›è¡ŒéªŒè¯
- **å¯†ç éªŒè¯**: å¦‚å¼€å¯ä¸¤æ­¥éªŒè¯ï¼Œéœ€æäº¤å¯†ç 
- **SessionæŒä¹…åŒ–**: è®¤è¯æˆåŠŸåè‡ªåŠ¨ä¿å­˜ä¼šè¯ä¿¡æ¯
- **æ™ºèƒ½å­˜å‚¨**: æ ¹æ®æ•°æ®å¤§å°è‡ªåŠ¨é€‰æ‹©GridFSæˆ–ä¼ ç»Ÿå­˜å‚¨æ–¹å¼
- **æ•°æ®å‹ç¼©**: å¤§äº8MBçš„æ•°æ®è‡ªåŠ¨è¿›è¡ŒGZIPå‹ç¼©
- **å®Œæ•´æ€§æ ¡éªŒ**: ä½¿ç”¨SHA256å“ˆå¸Œç¡®ä¿æ•°æ®å®Œæ•´æ€§

### 3. æ¶ˆæ¯ç›‘å¬
- è®¤è¯å®Œæˆåå¯å¯åŠ¨å®æ—¶æ¶ˆæ¯ç›‘å¬
- æ”¯æŒç¾¤ç»„æ¶ˆæ¯çš„å®æ—¶æ¥æ”¶å’Œå¤„ç†
- æ¶ˆæ¯å†…å®¹å®æ—¶è¾“å‡ºåˆ°æ§åˆ¶å°æ—¥å¿—
- æ”¯æŒå¯åŠ¨/åœæ­¢ç›‘å¬æ§åˆ¶

## æ³¨æ„äº‹é¡¹

1. **ä»£ç†è®¾ç½®**: ç¡®ä¿SOCKS5ä»£ç†æœåŠ¡æ­£å¸¸è¿è¡Œåœ¨127.0.0.1:7890
2. **MongoDBæœåŠ¡**: ç¡®ä¿MongoDB 4.0+æœåŠ¡æ­£å¸¸è¿è¡Œï¼Œç”¨äºGridFSå­˜å‚¨
3. **ä¼šè¯æŒä¹…åŒ–**: è®¤è¯æˆåŠŸåä¼šåœ¨MongoDBä¸­ä¿å­˜ä¼šè¯ä¿¡æ¯ï¼Œæ”¯æŒGridFSå¤§æ–‡ä»¶å­˜å‚¨
4. **å­˜å‚¨ç­–ç•¥**: ç³»ç»Ÿè‡ªåŠ¨æ ¹æ®æ•°æ®å¤§å°é€‰æ‹©å­˜å‚¨æ–¹å¼ï¼Œå¤§äº8MBä½¿ç”¨GridFS
5. **æ•°æ®å‹ç¼©**: å¤§æ–‡ä»¶è‡ªåŠ¨è¿›è¡ŒGZIPå‹ç¼©ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
6. **ç¾¤ç»„æƒé™**: ç¡®ä¿Telegramè´¦å·å·²åŠ å…¥éœ€è¦ç›‘å¬çš„ç¾¤ç»„
7. **ç½‘ç»œè¿æ¥**: éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥å’Œä»£ç†æœåŠ¡
8. **å•è´¦æˆ·æ¨¡å¼**: ç³»ç»Ÿåªæ”¯æŒå•ä¸ªè´¦æˆ·ï¼Œåˆ›å»ºæ–°è´¦æˆ·ä¼šæ¸…ç†æ—§è´¦æˆ·æ•°æ®

## æ•…éšœæ’é™¤

### è¿æ¥é—®é¢˜
- æ£€æŸ¥ä»£ç†æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- ç¡®è®¤ä»£ç†ç«¯å£é…ç½®æ­£ç¡®
- éªŒè¯ç½‘ç»œè¿æ¥çŠ¶æ€

### è®¤è¯é—®é¢˜
- ç¡®è®¤API IDå’ŒHashæ­£ç¡®
- æ£€æŸ¥æ‰‹æœºå·æ ¼å¼ï¼ˆéœ€åŒ…å«å›½å®¶ä»£ç ï¼‰
- éªŒè¯éªŒè¯ç è¾“å…¥æ˜¯å¦æ­£ç¡®
- å¦‚æœ‰ä¸¤æ­¥éªŒè¯ï¼Œç¡®ä¿å¯†ç æ­£ç¡®

### Sessioné—®é¢˜
- å¦‚è®¤è¯å¤±è´¥ï¼Œå¯ä½¿ç”¨ `/telegram/session/clear` æ¸…ç†Sessionæ•°æ®
- æ¸…ç†åéœ€é‡æ–°è¿›è¡Œå®Œæ•´è®¤è¯æµç¨‹
- Sessionæ•°æ®å­˜å‚¨åœ¨MongoDBä¸­ï¼Œæ”¯æŒGridFSå¤§æ–‡ä»¶å­˜å‚¨
- æ£€æŸ¥MongoDBè¿æ¥çŠ¶æ€å’ŒGridFSé…ç½®

### å­˜å‚¨é—®é¢˜
- ç¡®è®¤MongoDBæœåŠ¡æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥GridFSå­˜å‚¨ç©ºé—´æ˜¯å¦å……è¶³
- éªŒè¯æ•°æ®å‹ç¼©å’Œå®Œæ•´æ€§æ ¡éªŒåŠŸèƒ½
- æŸ¥çœ‹å­˜å‚¨ç­–ç•¥é…ç½®æ˜¯å¦æ­£ç¡®

### ä¾èµ–é—®é¢˜
- æ¸…ç†Mavenç¼“å­˜: `mvn clean`
- é‡æ–°ä¸‹è½½ä¾èµ–: `mvn dependency:resolve`
- æ£€æŸ¥TDLightä¾èµ–æ˜¯å¦æ­£ç¡®ä¸‹è½½
- ç¡®è®¤Javaç‰ˆæœ¬ä¸º17+

## ä½¿ç”¨ç¤ºä¾‹

### ğŸ³ Dockeréƒ¨ç½²ç¤ºä¾‹

```bash
# 1. ä½¿ç”¨Dockerå¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰
docker run -d \
  --name magic-telegram \
  -p 8080:8080 \
  -e PROXY_HOST=host.docker.internal \
  -e PROXY_PORT=7890 \
  your-dockerhub-username/magic-telegram-server:latest

# 2. æ‰“å¼€Webç®¡ç†ç³»ç»Ÿ
# åœ¨æµè§ˆå™¨ä¸­è®¿é—®: http://localhost:8080/api/admin/index.html
# é€šè¿‡å¯è§†åŒ–ç•Œé¢å®Œæˆè´¦æˆ·åˆ›å»ºã€APIé…ç½®ã€è®¤è¯å’Œæ¶ˆæ¯ç›‘å¬ç­‰æ“ä½œ
```

> **æ³¨æ„**: Telegram APIé…ç½®ï¼ˆAPI_IDå’ŒAPI_HASHï¼‰æ— éœ€åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®ï¼Œå®Œå…¨é€šè¿‡Webç®¡ç†ç•Œé¢è¿›è¡Œé…ç½®ã€‚

### ğŸ”§ æœ¬åœ°å¼€å‘ç¤ºä¾‹

```bash
# 1. å¯åŠ¨åº”ç”¨
mvn spring-boot:run

# 2. æ‰“å¼€Webç®¡ç†ç³»ç»Ÿ
# åœ¨æµè§ˆå™¨ä¸­è®¿é—®: http://localhost:8080/api/admin/index.html
# é€šè¿‡å¯è§†åŒ–ç•Œé¢å®Œæˆè´¦æˆ·åˆ›å»ºã€APIé…ç½®ã€è®¤è¯å’Œæ¶ˆæ¯ç›‘å¬ç­‰æ“ä½œ
```


## ç‰ˆæœ¬å†å²



### v1.2.1 (2025-01-15)
- ğŸ”§ **å¤šå¹³å°æ”¯æŒä¼˜åŒ–**: ä¿®å¤äº†ä»…æ”¯æŒmacOSçš„é—®é¢˜
- ğŸ§ **Linuxæ”¯æŒ**: æ·»åŠ äº†Linux x86_64 (GNU GCC + OpenSSL 1.x)åŸç”Ÿåº“æ”¯æŒ
- ğŸªŸ **Windowsæ”¯æŒ**: æ·»åŠ äº†Windows x86_64åŸç”Ÿåº“æ”¯æŒ
- ğŸ“¦ **TDLightåŸç”Ÿåº“**: å®Œå–„äº†è·¨å¹³å°TDLightåŸç”Ÿåº“ä¾èµ–é…ç½®
- ğŸ³ **Dockerä¼˜åŒ–**: ä¿®å¤äº†Dockerç¯å¢ƒä¸‹TDLightåŸç”Ÿåº“åŠ è½½é—®é¢˜

### v1.1.0 (2025-08-05)
- ğŸ’¾ **GridFSæ™ºèƒ½å­˜å‚¨**: åŸºäºMongoDB GridFSçš„é«˜æ•ˆSessionå­˜å‚¨æ–¹æ¡ˆ
- ğŸ—œï¸ **æ•°æ®å‹ç¼©ä¼˜åŒ–**: è‡ªåŠ¨GZIPå‹ç¼©ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
- ğŸ”’ **æ•°æ®å®Œæ•´æ€§æ ¡éªŒ**: SHA256å“ˆå¸Œæ ¡éªŒç¡®ä¿æ•°æ®å®‰å…¨
- âš¡ **æ™ºèƒ½å­˜å‚¨ç­–ç•¥**: æ ¹æ®æ•°æ®å¤§å°è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å­˜å‚¨æ–¹å¼

## ä½œè€…

- **ä½œè€…**: liubo
- **æ—¥æœŸ**: 2025-01-15
- **ç‰ˆæœ¬**: 1.2.1 (å¤šå¹³å°æ”¯æŒç‰ˆ)

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [Apache License 2.0](LICENSE) å¼€æºåè®®å‘å¸ƒã€‚

```
Copyright 2025 liubo

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```